<?xml version="1.0" encoding="UTF-8"?>

<databaseChangeLog xmlns="http://www.liquibase.org/xml/ns/dbchangelog"
                   xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
                   xsi:schemaLocation="http://www.liquibase.org/xml/ns/dbchangelog http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-2.0.xsd">


    <changeSet author="jank" id="createTable-Score">
        <createTable
                tableName="SCORE">
            <column name="id" type="int"/>
            <column name="HOME_SCORE" type="int"/>
            <column name="AWAY_SCORE" type="int"/>
        </createTable>
        <addPrimaryKey
                columnNames="id"
                tableName="SCORE"/>
        <rollback></rollback>
    </changeSet>
    <changeSet author="jank" id="addAutoIncrement-Score">
        <addAutoIncrement
                columnDataType="int"
                columnName="id"
                incrementBy="1"
                startWith="1"
                tableName="SCORE"/>
    </changeSet>

    <changeSet author="jank" id="createTable-User">
        <createTable
                tableName="USER">
            <column name="id" type="int"/>
            <column name="FIRST_NAME" type="varchar(55)"/>
            <column name="LAST_NAME" type="varchar(255)"/>
        </createTable>
        <addPrimaryKey
                columnNames="id"
                tableName="USER"/>
        <rollback></rollback>
    </changeSet>
    <changeSet author="jank" id="addAutoIncrement-User">
        <addAutoIncrement
                columnDataType="int"
                columnName="id"
                incrementBy="1"
                startWith="1"
                tableName="USER"/>
    </changeSet>
    <changeSet author="jank" id="createTable-Spot">
        <createTable
                remarks="A String"
                tableName="Spot"
                tablespace="A String">
            <column name="id" type="int"/>
        </createTable>
        <addPrimaryKey
                columnNames="id"
                tableName="Spot"/>
        <rollback></rollback>
    </changeSet>
    <changeSet author="jank" id="addAutoIncrement-Spot">
        <addAutoIncrement
                columnDataType="int"
                columnName="id"
                incrementBy="1"
                startWith="1"
                tableName="Spot"/>
    </changeSet>
    <changeSet author="jank" id="createTable-Team1">
        <createTable
                tableName="TEAM1_HAS_SPOT">
            <column name="id" type="int"/>
            <column name="SPOT_ID" type="int"/>
            <column name="USER_ID" type="int"/>
        </createTable>
        <addPrimaryKey
                columnNames="id"
                tableName="TEAM1_HAS_SPOT"/>
        <addForeignKeyConstraint baseColumnNames="SPOT_ID"
                                 baseTableName="TEAM1_HAS_SPOT"
                                 constraintName="fk_team1_spot"
                                 deferrable="false"
                                 initiallyDeferred="false"
                                 onDelete="CASCADE"
                                 onUpdate="RESTRICT"
                                 referencedColumnNames="id"
                                 referencedTableName="SPOT"/>
        <addForeignKeyConstraint baseColumnNames="USER_ID"
                                 baseTableName="TEAM1_HAS_SPOT"
                                 constraintName="fk_team1_user"
                                 deferrable="false"
                                 initiallyDeferred="false"
                                 onDelete="CASCADE"
                                 onUpdate="RESTRICT"
                                 referencedColumnNames="id"
                                 referencedTableName="USER"/>
        <rollback></rollback>
    </changeSet>
    <changeSet author="jank" id="createTable-Team2">
        <createTable
                tableName="TEAM2_HAS_SPOT">
            <column name="id" type="int"/>
            <column name="SPOT_ID" type="int"/>
            <column name="USER_ID" type="int"/>
        </createTable>
        <addPrimaryKey
                columnNames="id"
                tableName="TEAM2_HAS_SPOT"/>
        <addForeignKeyConstraint baseColumnNames="SPOT_ID"
                                 baseTableName="TEAM2_HAS_SPOT"
                                 constraintName="fk_team2_spot"
                                 deferrable="false"
                                 initiallyDeferred="false"
                                 onDelete="CASCADE"
                                 onUpdate="RESTRICT"
                                 referencedColumnNames="id"
                                 referencedTableName="SPOT"/>
        <addForeignKeyConstraint baseColumnNames="USER_ID"
                                 baseTableName="TEAM2_HAS_SPOT"
                                 constraintName="fk_team2_user"
                                 deferrable="false"
                                 initiallyDeferred="false"
                                 onDelete="CASCADE"
                                 onUpdate="RESTRICT"
                                 referencedColumnNames="id"
                                 referencedTableName="USER"/>
        <rollback></rollback>
    </changeSet>
    <changeSet author="jank" id="createTable-Spot-Score">
        <createTable
                tableName="SPOT_HAS_SCORE">
            <column name="id" type="int"/>
            <column name="SPOT_ID" type="int"/>
            <column name="SCORE_ID" type="int"/>
        </createTable>
        <addPrimaryKey
                columnNames="id"
                tableName="SPOT_HAS_SCORE"/>
        <addForeignKeyConstraint baseColumnNames="SPOT_ID"
                                 baseTableName="SPOT_HAS_SCORE"
                                 constraintName="fk_s_score"
                                 deferrable="false"
                                 initiallyDeferred="false"
                                 onDelete="CASCADE"
                                 onUpdate="RESTRICT"
                                 referencedColumnNames="id"
                                 referencedTableName="SPOT"/>
        <addForeignKeyConstraint baseColumnNames="SCORE_ID"
                                 baseTableName="SPOT_HAS_SCORE"
                                 constraintName="fk_spot_score"
                                 deferrable="false"
                                 initiallyDeferred="false"
                                 onDelete="CASCADE"
                                 onUpdate="RESTRICT"
                                 referencedColumnNames="id"
                                 referencedTableName="SCORE"/>
        <rollback></rollback>
    </changeSet>

</databaseChangeLog>